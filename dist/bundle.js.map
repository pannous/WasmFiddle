{"version":3,"sources":["webpack:///webpack/bootstrap 3aa7dcf1912f573e9995","webpack:///./src/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/App.tsx","webpack:///./src/State.tsx","webpack:///./src/lib.ts","webpack:///./src/components/Editor.tsx"],"names":[],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3aa7dcf1912f573e9995","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { AppComponent } from \"./App\"\n\nReactDOM.render(\n  <AppComponent />,\n  document.getElementById(\"app\")\n);\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 2\n// module chunks = 0","import * as React from \"react\";\nimport * as ReactSplitPane from \"react-split-pane\";\nimport { State } from \"./State\";\nimport { EditorComponent } from \"./components/Editor\";\n\ndeclare var Mousetrap: any;\n\nexport class AppComponent extends React.Component<void, {\n  compilerOptions: string\n}> {\n\n  constructor() {\n    super();\n    this.installKeyboardShortcuts();\n    this.state = {\n      compilerOptions: \"-O3\"\n    } as any;\n    State.app = this;\n  }\n\n  installKeyboardShortcuts() {\n    Mousetrap.bind(['command+shift+k', 'command+enter', 'control+enter'], (e: any) => {\n      State.run();\n      e.preventDefault();\n    });\n    Mousetrap.bind(['command+enter'], (e: any) => {\n      State.run();\n      e.preventDefault();\n    });\n    Mousetrap.bind(['ctrl+enter'], (e: any) => {\n      State.run();\n      e.preventDefault();\n    });\n    Mousetrap.bind(['command+shift+s'], (e: any) => {\n      State.saveForever();\n      e.preventDefault();\n    });\n    Mousetrap.bind(['command+shift+.'], (e: any) => {\n      State.nextPane(1);\n      e.preventDefault();\n    });\n    Mousetrap.bind(['command+shift+,'], (e: any) => {\n      State.nextPane(-1);\n      e.preventDefault();\n    });\n  }\n\n  componentDidMount() {\n    State.init();\n  }\n  onSaveJavaScript(text: string) {\n    localStorage[\"js-source\"] = text;\n  }\n  compilerOptionsChanged(e: any) {\n    this.setState({\n      compilerOptions: e.target.value\n    });\n  }\n  onResize() {\n    State.resize();\n  }\n  render(): any {\n    return <div>\n      <ReactSplitPane split=\"horizontal\" allowResize={false} onChange={this.onResize.bind(this)}>\n        <div className=\"header\">\n          <span className=\"headerTitle\">WasmFiddle {State.fiddleURI}</span>\n          <div className=\"editorHeaderButtons\">\n            <a onClick={State.saveForever} href=\"#\" className=\"btn btn-sm btn-success\"><span className=\"glyphicon glyphicon-share\"></span> Share</a>\n          </div>\n          {/*<a onClick={State.save} href=\"#\" className=\"btn btn-sm btn-success\"><span className=\"glyphicon glyphicon-save\"></span> Save</a>{' '}*/}\n          {/*<input value={this.state.compilerOptions} onChange={this.compilerOptionsChanged.bind(this)} type=\"text\" className=\"input-sm\" placeholder=\"Search\" />*/}\n        </div>\n        <ReactSplitPane split=\"vertical\" defaultSize=\"50%\" onChange={this.onResize.bind(this)}>\n          <div>\n            <ReactSplitPane split=\"horizontal\" defaultSize=\"50%\" onChange={this.onResize.bind(this)}>\n              <div className=\"editorContainer\">\n                <div className=\"editorHeader\"><span className=\"editorHeaderTitle\">main.c</span>\n                  <div className=\"editorHeaderButtons\">\n                    <a onClick={State.run} href=\"#\" className=\"btn btn-xs btn-success\"><span className=\"glyphicon glyphicon-play\"></span> Compile & Run</a>{' '}\n                  </div>\n                </div>\n                <EditorComponent name=\"main.c\" mode=\"ace/mode/c_cpp\" />\n              </div>\n              <div className=\"editorContainer\">\n                <div className=\"editorHeader\"><span className=\"editorHeaderTitle\">harness.js</span>\n                  <div className=\"editorHeaderButtons\">\n                    <a onClick={State.runHarness} href=\"#\" className=\"btn btn-xs btn-success\"><span className=\"glyphicon glyphicon-play\"></span> Run</a>{' '}\n                  </div>\n                </div>\n                <EditorComponent name=\"harness.js\" mode=\"ace/mode/javascript\" />\n              </div>\n            </ReactSplitPane>\n          </div>\n          <div>\n            <ReactSplitPane split=\"horizontal\" defaultSize=\"50%\" onChange={this.onResize.bind(this)}>\n              <ReactSplitPane split=\"horizontal\" defaultSize=\"50%\" onChange={this.onResize.bind(this)}>\n                <div className=\"editorContainer\">\n                  <div className=\"editorHeader\"><span className=\"editorHeaderTitle\">out.wast</span>\n                    <div className=\"editorHeaderButtons\">\n                      {/*<a onClick={State.run} href=\"#\" className=\"btn btn-xs btn-success\"><span className=\"glyphicon glyphicon-play\"></span> Assemble & Run</a>{' '}*/}\n                    </div>\n                  </div>\n                  <EditorComponent name=\"wast\" save={false} readOnly={true} />\n                </div>\n                <div className=\"editorContainer\">\n                  <div className=\"editorHeader\"><span className=\"editorHeaderTitle\">out.wasm</span>\n                    <div className=\"editorHeaderButtons\">\n                      <a onClick={State.run} href=\"#\" className=\"btn btn-xs btn-success\"><span className=\"glyphicon glyphicon-save\"></span> Download</a>{' '}\n                    </div>\n                  </div>\n                  <EditorComponent name=\"wasm\" save={false} readOnly={true} />\n                </div>\n              </ReactSplitPane>\n              <div className=\"editorContainer\">\n                <div className=\"editorHeader\"><span className=\"editorHeaderTitle\">out</span>\n                  <div className=\"editorHeaderButtons\">\n                    <a onClick={State.clearOutput} href=\"#\" className=\"btn btn-xs btn-success\"><span className=\"glyphicon glyphicon-ban-circle\"></span> Clear</a>{' '}\n                  </div>\n                </div>\n                <EditorComponent name=\"output\" save={false} readOnly={true} />\n              </div>\n            </ReactSplitPane>\n          </div>\n        </ReactSplitPane>\n      </ReactSplitPane>\n    </div>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/App.tsx","declare var WebAssembly: any;\n\nimport { EditorComponent } from \"./components/Editor\";\nimport { AppComponent } from \"./App\";\nimport { lib } from \"./lib\"\n\nexport class State {\n  static sendRequest(command: string, cb: (any)) {\n    var self = this;\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"load\", function () {\n      cb.call(this);\n    });\n    // xhr.open(\"POST\", \"//areweflashyet.com/tmp/wasm/service.php\", true);\n    xhr.open(\"POST\", \"//wasmexplorer-service.herokuapp.com/service.php\", true);\n    xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\")\n    xhr.send(command);\n  }\n\n  static getAnnotations(response: string) {\n    // Parse and annotate errors if compilation fails.\n    var annotations: any[] = [];\n    if (response.indexOf(\"(module\") !== 0) {\n      var re = /^.*?:(\\d+?):(\\d+?):(.*)$/gm;\n      var m: any;\n      while ((m = re.exec(response)) !== null) {\n        if (m.index === re.lastIndex) {\n          re.lastIndex++;\n        }\n        var line = parseInt(m[1]) - 1;\n        var column = parseInt(m[2]) - 1;\n        var message = m[3];\n        annotations.push({\n          row: line,\n          column: column,\n          text: message,\n          type: message.indexOf(\"error\") >= 0 ? \"error\" : \"warning\" // also warning and information\n        });\n      }\n    }\n    return annotations;\n  }\n\n  static compileToWasm(src: string, options: string, cb: (buffer: Uint8Array, annotations?: any[]) => void) {\n    src = encodeURIComponent(src).replace('%20', '+');\n    let action = \"c2wast\";\n    options = encodeURIComponent(options + \" --clean\");\n    State.sendRequest(\"input=\" + src + \"&action=\" + action + \"&options=\" + options, function () {\n      let wast = State.findEditor(\"wast\");\n      let annotations = State.getAnnotations(this.responseText);\n      if (annotations.length) {\n        cb(this.responseText, annotations);\n        return;\n      }\n      wast.editor.setValue(this.responseText, -1);\n      src = encodeURIComponent(this.responseText).replace('%20', '+');\n      let action = \"wast2wasm\";\n      State.sendRequest(\"input=\" + src + \"&action=\" + action + \"&options=\" + options, function () {\n        var buffer = atob(this.responseText.split('\\n', 2)[1]);\n        var data = new Uint8Array(buffer.length);\n        for (var i = 0; i < buffer.length; i++) {\n          data[i] = buffer.charCodeAt(i);\n        }\n        let wasm = State.findEditor(\"wasm\");\n        wasm.editor.setValue(\"buffer = new Uint8Array([\" + String(data) + \"]);\");\n        cb(data, []);\n      });\n    });\n  }\n\n  static findEditor(name: string): EditorComponent {\n    for (let i = 0; i < State.editors.length; i++) {\n      if (State.editors[i].props.name == name) {\n        return State.editors[i];\n      }\n    }\n    return null;\n  }\n\n  static app: AppComponent;\n\n  static appendOutput(s: string) {\n    let output = State.findEditor(\"output\");\n    output.editor.insert(s + \"\\n\");\n    output.editor.gotoLine(Infinity);\n  }\n\n  /**\n   * Currently compiled module.\n   */\n  static buffer: Uint8Array = null;\n  static run() {\n    let main = State.findEditor(\"main.c\");\n    let options = State.app.state.compilerOptions;\n    State.compileToWasm(main.editor.getValue(), options, (result: Uint8Array | string, annotations: any[]) => {\n      if (annotations.length) {\n        main.editor.getSession().clearAnnotations();\n        main.editor.getSession().setAnnotations(annotations);\n        State.appendOutput(String(result));\n        return;\n      }\n      State.buffer = result as Uint8Array;\n      State.runHarness();\n    });\n  }\n\n  static runHarness() {\n    if (!State.buffer) {\n      State.appendOutput(\"Compile a WebAssembly module first.\");\n      return;\n    }\n    let harness = State.findEditor(\"harness.js\");\n    let func = new Function(\"buffer\", \"lib\", \"log\", harness.editor.getValue());\n    func(State.buffer, lib, function (x: any) {\n      State.appendOutput(String(x));\n      console.log.apply(console, arguments);\n    });\n  }\n\n  static clearOutput() {\n    let output = State.findEditor(\"output\");\n    output.editor.setValue(\"\");\n  }\n\n  static init() {\n    let uri: string = window.location.search.substring(1);\n    if (uri) {\n      let i = uri.indexOf(\"/\");\n      if (i > 0) {\n        uri = uri.substring(0, i);\n      }\n      State.loadForever(uri);\n    } else {\n      State.setState({\n        editors: {\n          \"main.c\": \"int main() { \\n  return 42;\\n}\",\n          \"harness.js\": \"let m = new WebAssembly.Instance(new WebAssembly.Module(buffer));\\n\\nlog(m.exports.main());\"\n        }\n      });\n    }\n  }\n\n  static resize() {\n    State.editors.forEach(e => {\n      e.editor.resize();\n    });\n  }\n\n  static setState(state: any) {\n    for (let k in state.editors) {\n      State.findEditor(k).editor.setValue(state.editors[k], -1);\n    }\n  }\n\n  static getState() {\n    let o: any = {\n      editors: {}\n    };\n    State.editors.forEach(e => {\n      if (e.props.save) {\n        o.editors[e.props.name] = e.editor.getValue();\n      }\n    });\n    return o;\n  }\n\n  static fiddleURI: string = \"\";\n  static saveForever() {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"load\", function () {\n      let uri = JSON.parse(this.response).uri;\n      uri = uri.substring(uri.lastIndexOf(\"/\") + 1);\n      State.fiddleURI = uri;\n      State.app.forceUpdate();\n      history.replaceState({}, State.fiddleURI, '?' + State.fiddleURI);\n    });\n    xhr.open(\"POST\", \"//api.myjson.com/bins\", true);\n    xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n    xhr.send(JSON.stringify(State.getState()));\n  }\n\n  static loadForever(fiddleURI: string) {\n    State.fiddleURI = fiddleURI;\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"load\", function () {\n      let state = JSON.parse(this.response);\n      State.setState(state);\n      history.replaceState({}, fiddleURI, '?' + State.fiddleURI);\n      State.app.forceUpdate();\n    });\n    let url = \"https://api.myjson.com/bins/\" + fiddleURI;\n    xhr.open(\"GET\", url, true);\n    xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\n    xhr.send();\n  }\n\n  static currentEditor = 0;\n\n  static nextPane(delta: number) {\n    State.currentEditor = (State.currentEditor + delta) % State.editors.length;\n    State.editors[State.currentEditor].editor.focus();\n  }\n\n  static editors: EditorComponent[] = [];\n\n  static addEditor(e: EditorComponent) {\n    State.editors.push(e);\n  }\n\n  static removeEditor(e: EditorComponent) {\n\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/State.tsx","declare var UTF8Decoder: any;\n\nfunction UTF8ArrayToString(u8Array: Uint8Array, idx: number) {\n  var endPtr = idx;\n  while (u8Array[endPtr])++endPtr;\n  if (endPtr - idx > 16 && u8Array.subarray && UTF8Decoder) {\n    return UTF8Decoder.decode(u8Array.subarray(idx, endPtr))\n  } else {\n    var u0, u1, u2, u3, u4, u5;\n    var str = \"\";\n    while (1) {\n      u0 = u8Array[idx++];\n      if (!u0) return str;\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue\n      }\n      u1 = u8Array[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode((u0 & 31) << 6 | u1);\n        continue\n      }\n      u2 = u8Array[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = (u0 & 15) << 12 | u1 << 6 | u2\n      } else {\n        u3 = u8Array[idx++] & 63;\n        if ((u0 & 248) == 240) {\n          u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | u3\n        } else {\n          u4 = u8Array[idx++] & 63;\n          if ((u0 & 252) == 248) {\n            u0 = (u0 & 3) << 24 | u1 << 18 | u2 << 12 | u3 << 6 | u4\n          } else {\n            u5 = u8Array[idx++] & 63;\n            u0 = (u0 & 1) << 30 | u1 << 24 | u2 << 18 | u3 << 12 | u4 << 6 | u5\n          }\n        }\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0)\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023)\n      }\n    }\n  }\n}\n\nexport let lib = {\n  UTF8ArrayToString: UTF8ArrayToString\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib.ts","import * as React from \"react\";\nimport { State } from \"../State\";\nimport { AsyncEvent } from 'ts-events';\n\ndeclare var monaco: any;\ndeclare var require: any;\ndeclare var ace: any;\n\nexport class EditorComponent extends React.Component<{\n  save?: boolean;\n  readOnly?: boolean;\n  name: string,\n  mode?: string,\n  action?: string\n}, void> {\n  container: HTMLDivElement;\n  public editor: any;\n  public static defaultProps = {\n    // source: \"\",\n    mode: \"\",\n    action: \"\",\n    save: true,\n    readOnly: false\n  };\n  componentWillUnmount() {\n    State.removeEditor(this);\n  }\n  componentDidMount() {\n    let editor = this.editor = ace.edit(this.container);\n    var theme = true ? \"ace/theme/monokai\" : \"ace/theme/github\";\n    // editor.setValue(this.props.source, -1);\n    editor.setReadOnly(this.props.readOnly);\n    editor.setTheme(theme);\n    editor.setFontSize(11);\n    editor.getSession().setUseSoftTabs(true);\n    editor.getSession().setTabSize(2);\n    editor.setShowPrintMargin(false);\n    editor.setOptions({\n      wrap: true,\n      enableBasicAutocompletion: true,\n      enableSnippets: true,\n      enableLiveAutocompletion: true\n    });\n    editor.$blockScrolling = Infinity;\n    editor.renderer.setScrollMargin(10, 10);\n    editor.getSession().setMode(this.props.mode);\n    let action = this.props.action;\n    let self = this;\n    editor.commands.addCommands(\n      [{\n        bindKey: { win: \"Ctrl-S\", mac: \"Command-S\" }, exec: function () {\n          State.saveForever();\n        }\n      },\n      {\n        bindKey: { win: \"Ctrl-Shift-K\", mac: \"Command-Shift-K\" }, exec: function () {\n          State.run();\n        }\n      },\n      {\n        bindKey: { win: \"Ctrl-Shift-.\", mac: \"Command-Shift-.\" }, exec: function () {\n          State.nextPane(1);\n        }\n      },\n      {\n        bindKey: { win: \"Ctrl-Shift-,\", mac: \"Command-Shift-,\" }, exec: function () {\n          State.nextPane(-1);\n        }\n      }\n      ]\n    );\n\n    State.addEditor(this);\n  }\n  onChange() {\n\n  }\n  render(): any {\n    return <div ref={(self: any) => this.container = self} className=\"editorBody\"/>\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/Editor.tsx"],"sourceRoot":""}